<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Language Challenge ðŸ¤Ÿ</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #f0f2f5;
            min-height: 100vh;
            padding: 0px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .game-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), 0 8px 16px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            overflow: hidden;
        }

        .game-header {
            background: #FFFFFF;
            color: #050505;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #E4E6EB;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .game-header h1 {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #050505;
            flex: 1;
            text-align: center;
        }

        .hand-icon {
            font-size: 28px;
            display: inline-block;
            animation: wave 2s ease-in-out infinite;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
            vertical-align: middle;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .back-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            color: #050505;
            transition: background 0.2s ease;
            text-decoration: none;
        }

        .back-btn:hover { 
            background: #F0F2F5;
        }

        .back-btn:active {
            background: #E4E6EB;
        }

        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            10%, 30% { transform: rotate(14deg); }
            20% { transform: rotate(-8deg); }
            40%, 60% { transform: rotate(0deg); }
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            gap: 15px;
        }

        .score-item {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .score-item .material-symbols-outlined {
            font-size: 18px;
            margin-right: 6px;
        }

        .game-content {
            padding: 25px;
        }

        .category-badge {
            display: inline-block;
            background: #e7f3ff;
            color: #1877f2;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .images-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 25px;
            padding: 15px;
            background: #f0f2f5;
            border-radius: 8px;
        }

        .image-box {
            aspect-ratio: 1;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 70px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            animation: fadeInScale 0.5s ease;
            filter: grayscale(0%); /* show full color */
            transition: all 0.3s ease;
        }

        .image-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(24, 119, 242, 0.1),
                transparent
            );
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .image-box:hover {
            filter: grayscale(0%);
            transform: scale(1.05);
        }

        /* Colored tints for the 4 icon boxes */
        .images-grid .image-box:nth-child(1) {
            background: linear-gradient(135deg, #e9f5ff 0%, #d0e9ff 100%);
        }

        .images-grid .image-box:nth-child(2) {
            background: linear-gradient(135deg, #fff4e6 0%, #ffe8cf 100%);
        }

        .images-grid .image-box:nth-child(3) {
            background: linear-gradient(135deg, #e9fff1 0%, #d0ffe1 100%);
        }

        .images-grid .image-box:nth-child(4) {
            background: linear-gradient(135deg, #f1e9ff 0%, #e6d9ff 100%);
        }

        /* Slightly bigger emoji and drop-shadow to bring more color pop */
        .images-grid .image-box {
            font-size: 78px;
            text-shadow: 0 1px 0 rgba(255,255,255,0.35);
        }

        @keyframes fadeInScale {
            from { 
                opacity: 0; 
                transform: scale(0.8);
            }
            to { 
                opacity: 1; 
                transform: scale(1);
            }
        }

        .question {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #050505;
            margin-bottom: 25px;
        }

        .letter-boxes {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .letter-box {
            width: 45px;
            height: 55px;
            border: 2px solid #e4e6eb;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: #1877f2;
            background: white;
            transition: all 0.3s ease;
        }

        .letter-box.filled {
            background: #1877f2;
            color: white;
            border-color: #1877f2;
            animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes popIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .letter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .letter-btn {
            width: 45px;
            height: 45px;
            border: 1px solid #dddfe2;
            background: white;
            color: #050505;
            font-size: 18px;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .letter-btn:hover:not(:disabled) {
            background: #f0f2f5;
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }

        .letter-btn:active:not(:disabled) {
            transform: translateY(0);
        }

        .letter-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background: #f0f2f5;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .clear-btn {
            background: #e4e6eb;
            color: #050505;
        }

        .clear-btn:hover {
            background: #d8dadf;
        }

        .hint-btn {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .hint-btn:hover {
            background: #ffeaa7;
        }

        .hint-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .next-btn {
            width: 100%;
            padding: 12px;
            border: none;
            background: #1877f2;
            color: white;
            font-size: 16px;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: none;
        }

        .next-btn:hover {
            background: #166fe5;
        }

        .feedback {
            text-align: center;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-weight: 600;
            display: none;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from { 
                opacity: 0; 
                transform: translateY(-20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .feedback.wrong {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .like-icon {
            display: inline-block;
            animation: thumbsUp 0.6s ease;
        }

        .like-icon.material-symbols-outlined { font-size: 20px; }

        @keyframes thumbsUp {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.3) rotate(-10deg); }
            75% { transform: scale(1.3) rotate(10deg); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #1877f2;
            animation: confetti-fall 2s ease-out forwards;
            pointer-events: none;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .completion-card {
            text-align: center;
            padding: 40px 20px;
            animation: fadeInScale 0.6s ease;
        }

        .trophy-icon {
            font-size: 80px;
            animation: bounce 1s ease infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @media (max-width: 480px) {
            .game-content {
                padding: 20px;
            }

            .images-grid {
                gap: 10px;
                padding: 12px;
            }

            .image-box {
                font-size: 50px;
            }

            .letter-box {
                width: 38px;
                height: 48px;
                font-size: 20px;
            }

            .letter-btn {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }

            .game-header h1 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <button class="back-btn" aria-label="Back" onclick="goBack()">
                    <span class="material-symbols-outlined">arrow_back</span>
                </button>
                <h1><span class="hand-icon material-symbols-outlined"></span> </h1>
            </div>
            <div class="score-board">
                <div class="score-item"><span class="material-symbols-outlined">star</span> <span id="score">0</span></div>
                <div class="score-item"><span class="material-symbols-outlined">military_tech</span> Level <span id="level">1</span></div>
                <div class="score-item"><span class="material-symbols-outlined">lightbulb</span> <span id="hints">3</span></div>
            </div>
        </div>

        <div class="game-content">
            <div class="category-badge" id="category">Greetings</div>
            
            <div class="images-grid" id="imagesGrid">
                <div class="image-box"><img src="GIF/hello.gif" alt="Hello" style="width:100%;height:100%;object-fit:contain;"></div>
                <div class="image-box"><img src="GIF/goodbye.gif" alt="Goodbye" style="width:100%;height:100%;object-fit:contain;"></div>
                <div class="image-box"><img src="GIF/nice_to_meet_you.gif" alt="Nice to meet you" style="width:100%;height:100%;object-fit:contain;"></div>
                <div class="image-box"><img src="GIF/thank_you.gif" alt="Thank you" style="width:100%;height:100%;object-fit:contain;"></div>
            </div>

            <div class="question">What sign language phrase is this?</div>

            <div class="feedback" id="feedback"></div>

            <div class="letter-boxes" id="answerBoxes"></div>

            <div class="letter-buttons" id="letterButtons"></div>

            <div class="action-buttons">
                <button class="action-btn clear-btn" onclick="clearAnswer()"><span class="material-symbols-outlined">refresh</span> Clear</button>
                <button class="action-btn hint-btn" id="hintBtn" onclick="useHint()"><span class="material-symbols-outlined">lightbulb</span> Hint</button>
            </div>

            <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Next Challenge <span class="material-symbols-outlined">arrow_forward</span></button>
        </div>
    </div>

    <script>
        function goBack() {
            if (document.referrer) {
                window.history.back();
            } else {
                window.location.href = 'practice.html';
            }
        }
        const questions = [
            { answer: "HELLO", category: "Greetings", emojis: ["ðŸ‘‹", "âœ‹", "ðŸ¤", "ðŸ˜Š"] },
            { answer: "GOODBYE", category: "Greetings", emojis: ["ðŸ‘‹", "ðŸšª", "ðŸ˜¢", "âœŒï¸"] },
            { answer: "PLEASE", category: "Greetings", emojis: ["ðŸ™", "ðŸ’", "ðŸ˜Š", "ðŸ¤²"] },
            { answer: "THANKYOU", category: "Daily Expressions", emojis: ["ðŸ™", "â¤ï¸", "ðŸ˜Š", "ðŸŽ"] },
            { answer: "SORRY", category: "Greetings", emojis: ["ðŸ˜¢", "ðŸ™‡", "ðŸ’”", "ðŸ˜”"] },
            { answer: "HELP", category: "Daily Expressions", emojis: ["ðŸ†˜", "ðŸ¤", "ðŸ’ª", "ðŸ™‹"] },
            { answer: "HUNGRY", category: "Daily Expressions", emojis: ["ðŸ”", "ðŸ˜‹", "ðŸ•", "ðŸ¤¤"] },
            { answer: "TIRED", category: "Daily Expressions", emojis: ["ðŸ˜´", "ðŸ¥±", "ðŸ’¤", "ðŸ˜«"] },
            { answer: "GOOD", category: "Feelings", emojis: ["ðŸ‘", "ðŸ˜Š", "â­", "âœ¨"] },
            { answer: "BAD", category: "Feelings", emojis: ["ðŸ‘Ž", "ðŸ˜ž", "âŒ", "ðŸ˜”"] },
            { answer: "FINE", category: "Feelings", emojis: ["ðŸ‘Œ", "ðŸ˜Œ", "âœ…", "ðŸ™‚"] },
            { answer: "BUSY", category: "Daily Expressions", emojis: ["â°", "ðŸ“‹", "ðŸ’¼", "ðŸƒ"] },
            { answer: "DEAF", category: "Identity & People", emojis: ["ðŸ‘‚", "ðŸš«", "ðŸ¤Ÿ", "ðŸ—£ï¸"] }
        ];

        let currentQuestion = 0;
        let score = 0;
        let hints = 3;
        let currentAnswer = [];
        let usedLetters = [];

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function loadQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('category').textContent = q.category;
            document.getElementById('level').textContent = currentQuestion + 1;
            
            const grid = document.getElementById('imagesGrid');
            grid.innerHTML = q.emojis.map((emoji, i) => 
                `<div class="image-box" style="animation-delay: ${i * 0.1}s">${emoji}</div>`
            ).join('');

            currentAnswer = [];
            usedLetters = [];
            
            const answerBoxes = document.getElementById('answerBoxes');
            answerBoxes.innerHTML = Array(q.answer.length).fill(0).map((_, i) => 
                `<div class="letter-box" data-index="${i}"></div>`
            ).join('');

            const allLetters = q.answer.split('');
            const extraLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('')
                .filter(l => !allLetters.includes(l))
                .sort(() => Math.random() - 0.5)
                .slice(0, 6);
            
            const letterPool = shuffle([...allLetters, ...extraLetters]);
            
            const letterButtons = document.getElementById('letterButtons');
            letterButtons.innerHTML = letterPool.map(letter => 
                `<button class="letter-btn" onclick="selectLetter('${letter}', this)">${letter}</button>`
            ).join('');

            document.getElementById('feedback').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            updateHintButton();
        }

        function selectLetter(letter, btn) {
            if (currentAnswer.length < questions[currentQuestion].answer.length) {
                currentAnswer.push(letter);
                usedLetters.push(btn);
                btn.disabled = true;
                updateAnswerBoxes();
                checkAnswer();
            }
        }

        function updateAnswerBoxes() {
            const boxes = document.querySelectorAll('.letter-box');
            boxes.forEach((box, i) => {
                if (currentAnswer[i]) {
                    box.textContent = currentAnswer[i];
                    box.classList.add('filled');
                } else {
                    box.textContent = '';
                    box.classList.remove('filled');
                }
            });
        }

        function clearAnswer() {
            currentAnswer = [];
            usedLetters.forEach(btn => btn.disabled = false);
            usedLetters = [];
            updateAnswerBoxes();
            document.getElementById('feedback').style.display = 'none';
        }

        function updateHintButton() {
            const hintBtn = document.getElementById('hintBtn');
            if (hints === 0) {
                hintBtn.disabled = true;
            }
            document.getElementById('hints').textContent = hints;
        }

        function useHint() {
            if (hints > 0 && currentAnswer.length < questions[currentQuestion].answer.length) {
                const correctAnswer = questions[currentQuestion].answer;
                const nextLetter = correctAnswer[currentAnswer.length];
                
                const buttons = Array.from(document.querySelectorAll('.letter-btn'));
                const hintBtn = buttons.find(btn => btn.textContent === nextLetter && !btn.disabled);
                
                if (hintBtn) {
                    selectLetter(nextLetter, hintBtn);
                    hints--;
                    updateHintButton();
                }
            }
        }

        function checkAnswer() {
            if (currentAnswer.length === questions[currentQuestion].answer.length) {
                const userAnswer = currentAnswer.join('');
                const correctAnswer = questions[currentQuestion].answer;
                const feedback = document.getElementById('feedback');
                
                if (userAnswer === correctAnswer) {
                    feedback.innerHTML = '<span class="like-icon material-symbols-outlined">thumb_up</span> Correct! Amazing job!';
                    feedback.className = 'feedback correct';
                    score += 10;
                    document.getElementById('score').textContent = score;
                    document.getElementById('nextBtn').style.display = 'block';
                    createConfetti();
                } else {
                    feedback.textContent = 'âŒ Not quite right. Try again!';
                    feedback.className = 'feedback wrong';
                    setTimeout(() => {
                        clearAnswer();
                    }, 1500);
                }
            }
        }

        function createConfetti() {
            const colors = ['#1877f2', '#42b72a', '#050505', '#65676b'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.3 + 's';
                    confetti.style.animationDuration = (1.5 + Math.random()) + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                const content = document.querySelector('.game-content');
                content.innerHTML = `
                    <div class="completion-card">
                        <div class="trophy-icon material-symbols-outlined">emoji_events</div>
                        <h2 style="color: #1877f2; margin: 20px 0; font-size: 28px;">Congratulations!</h2>
                        <p style="font-size: 20px; margin-bottom: 10px; color: #050505;">Final Score: <strong style="color: #1877f2;">${score} points</strong></p>
                        <p style="color: #65676b; margin-bottom: 30px; font-size: 15px;">You've completed all ${questions.length} challenges!</p>
                        <button class="next-btn" style="display: block;" onclick="location.reload()">
                            <span class="material-symbols-outlined">refresh</span> Play Again
                        </button>
                    </div>
                `;
            }
        }

        loadQuestion();
    </script>
</body>
</html>